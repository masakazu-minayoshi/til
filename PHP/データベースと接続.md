# データベース(MySQL,MariaDBなど)と接続  
* POD:PHP Data Object  
ORM,OR/マッパー:SQLをラップ(SQLをPHPで書ける)  
# エクセルで考えると  

|項目|内容|
|:--:|:--:|
|データベース|エクセルファイル|
|テーブル|シート|
|レコード（ロウ）|行（横）|
|カラム|列(縦)|
|フィールド|セル（１つ１つ）|

＃ DBの種類と特徴  
* 数百万、数千万でも膨大なデータを管理。  

|項目|内容|
|:--:|:--:|
|RDB<br>(リレーショナルデータベース)|複数のテーブルを紐づけることができる|
|NoSQL|高速処理|

# DB操作の基本 CRUD
|Create|新規作成|insert||
|:--:|:--:|:--:|:--:|
|Read|表示|select||
|Update|更新|updat|履歴を残すか、完全に上書きするか|
|Delete|削除|delete|完全に消すか、非表示にするか|

* データ量が膨大になるなら下記内容も検討する。  
・パーティション(分割)  
・インデックス(索引)   
・レプリケーション(ミラーリング)   

# テーブル作成時に抑えるポイント  
* ストレージエンジン:基本はInnoDB  
* 照合順序・MySQL 5.5.3 (2010年)以降はutf8mb4推奨  
* データ型
・数字(整数(int) 少数(float)、金額なら整数かdecimal)  
・文字列(varchar)、boolean(真偽)、Date など  
・想定される文字数に合わせる。  
・Nullを許容するかを決める。  

# DB操作の基本  

|Select 表示させたい項目|
|:------------------:|
|From table名|
|Where 検索条件|
|Group by グループ化 |
|Order by 表示順序 |
|Join テーブル結合(inner/outer/left)|

# PDO  
## クラスの考え方  
* クラス:関連する機能（変数/関数->プロパティ、関数->メソッド）をひとまとめにすること。  

## クラスの使い方（２パターン）  
* 動的と静的<br>アロー演算子とスコープ演算子  

|class|||instance(実体化)|  
|:---:|:---:|:---:|:----------------|
||→|**new**|$pdo = new class名;<br>$pdo->プロパティ<br>$pdo->メソッド|
||→|**static<br>静的**|PDO::ATTR_ERRMODE<br>PDO::ERRMODE_EXCEPTION|

> 引用
[PHPドキュメント：PDO クラス](https://www.php.net/manual/ja/class.pdo.php)  


## データベース接続の用語

|用語|内容|
|:--:|:--|
|プリペアードステートメント|予約文|
|プレースホルダ|仮の情報|
|バインド|紐づける|
|トランザクション|排他ロック|
|正規化|第3正規化|
|SQLインジェクション|セキュリティ対策|









